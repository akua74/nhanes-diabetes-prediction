# NHANES 2017â€“2018 Diabetes Prediction Project

This repository contains the complete, reproducible workflow for my Data Science project analyzing predictors of diabetes using the **NHANES 2017â€“2018** dataset.

The project includes:
- A deep description of the dataset  
- Six exploratory figures  
- Two modeling approaches discussed in class  
- A fully reproducible Docker + Makefile environment that generates a PDF report  

This repo is structured so graders can reproduce the entire analysis using:

```bash
git clone <repo>
docker build . -t nhanes-diabetes
docker run ...
make report.pdf
```

ğŸ“ Project Structure
```
.
â”œâ”€â”€ code/
â”‚   â””â”€â”€ analysis.R         # data cleaning, merging, figures, modeling
â”œâ”€â”€ report/
â”‚   â”œâ”€â”€ report.Rmd         # main report source (R Markdown)
â”‚   â””â”€â”€ report.pdf         # generated by Makefile (NOT committed)
â”œâ”€â”€ data/
â”‚   â””â”€â”€ (NHANES .XPT files go here but are NOT committed to Git)
â”œâ”€â”€ Dockerfile             # builds reproducible R environment
â”œâ”€â”€ Makefile               # automates report building
â”œâ”€â”€ README.md              # documentation
â””â”€â”€ .gitignore             # files/folders excluded from version control
```

ğŸ“Š Data Source
This project uses four NHANES public-use datasets from the 2017â€“2018 cycle:
```
DEMO_J.XPT â€” demographics
DIQ_J.XPT â€” diabetes questionnaire
BMX_J.XPT â€” body measurements (BMI, waist)
GHB_J.XPT â€” glycohemoglobin (HbA1c)
```

Download the datasets from:
https://wwwn.cdc.gov/nchs/nhanes/continuousnhanes/default.aspx?BeginYear=2017
Place all .XPT files into the data/ folder of your local checkout:

```
data/
â”œâ”€â”€ DEMO_J.XPT
â”œâ”€â”€ DIQ_J.XPT
â”œâ”€â”€ BMX_J.XPT
â””â”€â”€ GHB_J.XPT
```
These files are ignored by Git for privacy and size reasons.

ğŸ³ Building the Docker Image
This project uses an M1/M2-compatible Docker image with RStudio Server.
From the project root:

```
docker build . -t nhanes-diabetes
```
This installs:
R + RStudio Server
Required R packages (haven, dplyr, ggplot2, pROC, randomForest, scales, rmarkdown)
All project files (Makefile, R code, Markdown report)

ğŸ–¥ï¸ Running the Project in Docker (RStudio Server)
Start the RStudio Server container:
```
docker run -e PASSWORD=test -p 8787:8787 -v $(pwd):/home/rstudio/project nhanes-diabetes
```
Then open a web browser and navigate to:
```
http://localhost:8787
```
Login credentials:
username: rstudio
password: test
Once inside RStudio, open the Terminal and run:

```
make report.pdf
```
This will:
Run analysis.R
Knit report/report.Rmd
Generate report/report.pdf

ğŸ› ï¸ Makefile Usage
Common commands:

```
make report.pdf    # builds the PDF report
make report        # same as above
make clean         # removes generated files
```
Dependency tracking ensures the report rebuilds correctly when:
report.Rmd changes
analysis.R changes

ğŸ”„ Reproducibility (Grader Instructions)
A grader can reproduce everything by running:

```
cd /tmp
git clone <your-repo-url>
cd <repo-name>
docker build . -t nhanes-diabetes
docker run -e PASSWORD=test -p 8787:8787 -v $(pwd):/home/rstudio/project nhanes-diabetes
```
Then inside RStudio:
```
make report.pdf
```

ğŸ“˜ Summary
This project demonstrates:
-End-to-end reproducible data science using Docker
-Automated compilation workflows using Make
-Statistical modeling (logistic regression)
-Machine learning (random forest)
-Exploratory data analysis with six figures
-A complete pipeline from raw NHANES data â†’ merged dataset â†’ modeling â†’ PDF report
All results, visualizations, and methods are documented in report/report.Rmd.
The final report is automatically generated inside the Docker container.
